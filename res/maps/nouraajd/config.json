{
  "StartEvent": {
    "class": "StartEvent",
    "properties": {
      "text": "Here it begins. A hero is sent to rescue with only letter in his hand. You don`t know who Sergeant Rolf is or who snitched the letter to Your backpack. Somewhere here lies small town of Nouraajd which is where investigation should be started..."
    }
  },
  "nouraajdSign": {
    "ref": "signPost",
    "properties": {
      "text": "NOURAAJD - EAST"
    }
  },
  "exampleMarket": {
    "class": "CMarket",
    "properties": {
      "items": [
        {
          "ref": "DaggerOfVileHeart"
        },
        {
          "ref": "LesserLifePotion"
        },
        {
          "ref": "LesserLifePotion"
        },
        {
          "ref": "LesserLifePotion"
        }
      ]
    }
  },
  "mainQuest": {
    "class": "MainQuest",
    "properties": {
      "description": "Kill Gooby"
    }
  },
  "rolfQuest": {
    "class": "RolfQuest",
    "properties": {
      "description": "Find what happened to sergeant Rolf."
    }
  },
  "skullOfRolf": {
    "class": "CItem",
    "properties": {
      "name": "skullOfRolf",
      "animation": "images/skull",
      "tags": [
        "quest"
      ]
    }
  },
  "cave1": {
    "ref": "Cave",
    "properties": {
      "message": "You feel the ground shaking, and see the ratmen all around you!!! But the one part is missin g in this puzzle. Letter said about the ratmen who was much bigger than the other. These here are just ordinary pritschers.",
      "chance": "10",
      "monster": {
        "ref": "Pritz",
        "properties": {
          "affiliation": "gooby",
          "controller": {
            "class": "CGroundController",
            "properties": {
              "tileType": "ground"
            }
          }
        }
      },
      "monsters": "10"
    }
  },
  "cave2": {
    "ref": "Cave",
    "properties": {
      "chance": "10",
      "monster": {
        "ref": "OctoBogz",
        "properties": {
          "affiliation": "bogz",
          "controller": {
            "class": "CRangeController",
            "properties": {
              "target": "cave2",
              "distance": 10
            }
          }
        }
      },
      "monsters": "5"
    }
  },
  "market1": {
    "ref": "Market",
    "properties": {
      "market": {
        "ref": "exampleMarket"
      }
    }
  },
  "gooby": {
    "ref": "Gooby",
    "properties": {
      "controller": {
        "class": "CTargetController",
        "properties": {
          "target": "player"
        }
      }
    }
  },
  "letterFromRolf": {
    "ref": "Scroll",
    "properties": {
      "label": "Letter from Rolf",
      "text": "Lord Commander, These terrifying creatures keep attacking us all the time, locals call them Pritschers. Our scout reports that Pritschers have their lair in ruins of Nouraajd, but we can't do anything about it - we don't have enough men. We're barely able to defend village. We won't survive much longer. We need reinforcements. Sergeant Rolf."
    }
  },
  "doorDialog": {
    "class": "DoorDialog",
    "properties": {
      "states": [
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "ENTRY",
            "text": "Due to rat infestation gates are closed. Orders from Sergeant Rolf!",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "action": "openDoor",
                  "nextStateId": "WELCOME",
                  "text": "I am here to help. (show him the letter)"
                }
              },
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 1,
                  "nextStateId": "NOT_WELCOME",
                  "text": "Open up or I`ll smash this gate into pieces!"
                }
              },
              {
                "ref": "exitOption",
                "properties": {
                  "number": 2
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "WELCOME",
            "text": "Come on then. You can spend a night at inn or pray in the chapel. Not much to do here.",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "nextStateId": "ABOUT_ROLF",
                  "text": "Where can I find Sergeant Rolf?"
                }
              },
              {
                "ref": "exitOption",
                "properties": {
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "ABOUT_ROLF",
            "text": "He left couple days ago with his crew. They did not come back yet.",
            "options": [
              {
                "ref": "exitOption",
                "properties": {
                  "number": 0
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "NOT_WELCOME",
            "text": "I`d love to see that. Good day, kind sir!",
            "options": [
              {
                "ref": "exitOption",
                "properties": {
                  "number": 0
                }
              }
            ]
          }
        }
      ]
    }
  },
  "askAboutGirl": {
    "class": "CDialogOption",
    "properties": {
      "nextStateId": "INKEEPER_ABOUT_GIRL",
      "text": "What they were looking for?",
      "action": "askedAboutGirl"
    }
  },
  "askAboutMarumi": {
    "class": "CDialogOption",
    "properties": {
      "nextStateId": "INKEEPER_ABOUT_MARUMI",
      "text": "Who is this Marumi Baso?"
    }
  },
  "askForBeer": {
    "ref": "exitOption",
    "properties": {
      "text": "Alright, now get me some beer.",
      "action": "sellBeer"
    }
  },
  "shouldGo": {
    "ref": "exitOption",
    "properties": {
      "text": "I should go."
    }
  },
  "tavernDialog1": {
    "class": "TavernDialog1",
    "properties": {
      "states": [
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "ENTRY",
            "text": "As You enter the inn, You see 5 men rushing out. They are dressed in dark brown coats. One of them, the elder one, is holding staff and he is wearing round hat. Your eyes cross as he is leaving.",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "nextStateId": "INNKEEPER_WELCOME",
                  "text": "Talk to the innkeeper."
                }
              },
              {
                "ref": "exitOption",
                "properties": {
                  "text": "Leave inn.",
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INNKEEPER_WELCOME",
            "text": "Welcome, welcome. What can I do for You?",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "nextStateId": "INKEEPER_ABOUT_CULTISTS",
                  "text": "I`ve seen a group of weird men that were leaving the inn in a hurry. They looked like priests, but nothing like Matulog cultists."
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INKEEPER_ABOUT_CULTISTS",
            "text": "Ah yeah, they`ve been around a city since I can remember. Cult of Marumi Baso they call themselves. Some of the locals consider them zealots.",
            "options": [
              {
                "ref": "askAboutMarumi",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "askAboutGirl",
                "properties": {
                  "number": 1
                }
              },
              {
                "ref": "askForBeer",
                "properties": {
                  "number": 2
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 3
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INKEEPER_ABOUT_MARUMI",
            "text": "Ugh... I don`t know, seems like deity? I`m not really interested in religious staff, do You want anything else?",
            "options": [
              {
                "ref": "askAboutGirl",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "askForBeer",
                "properties": {
                  "number": 1
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 2
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INKEEPER_ABOUT_GIRL",
            "text": "Some girl, I`ve told them to get the fuck out and look for their victims elsewhere. Anyway, does inn look like a proper place for a child?",
            "options": [
              {
                "ref": "askAboutMarumi",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "askForBeer",
                "properties": {
                  "number": 1
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 2
                }
              }
            ]
          }
        }
      ]
    }
  }
}