{
  "doorDialog": {
    "class": "DoorDialog",
    "properties": {
      "states": [
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "ENTRY",
            "text": "Due to rat infestation gates are closed. Orders from Sergeant Rolf!",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "action": "openDoor",
                  "nextStateId": "WELCOME",
                  "text": "I am here to help. (show him the letter)"
                }
              },
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 1,
                  "nextStateId": "NOT_WELCOME",
                  "text": "Open up or I`ll smash this gate into pieces!"
                }
              },
              {
                "ref": "exitOption",
                "properties": {
                  "number": 2
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "WELCOME",
            "text": "Come on then. You can spend a night at inn or pray in the chapel. Not much to do here.",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "nextStateId": "ABOUT_ROLF",
                  "text": "Where can I find Sergeant Rolf?"
                }
              },
              {
                "ref": "exitOption",
                "properties": {
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "ABOUT_ROLF",
            "text": "He left couple days ago with his crew. They did not come back yet.",
            "options": [
              {
                "ref": "exitOption",
                "properties": {
                  "number": 0
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "NOT_WELCOME",
            "text": "I`d love to see that. Good day, kind sir!",
            "options": [
              {
                "ref": "exitOption",
                "properties": {
                  "number": 0
                }
              }
            ]
          }
        }
      ]
    }
  },
  "askAboutGirl": {
    "class": "CDialogOption",
    "properties": {
      "nextStateId": "INKEEPER_ABOUT_GIRL",
      "text": "What they were looking for?",
      "action": "askedAboutGirl"
    }
  },
  "askAboutMarumi": {
    "class": "CDialogOption",
    "properties": {
      "nextStateId": "INKEEPER_ABOUT_MARUMI",
      "text": "Who is this Marumi Baso?"
    }
  },
  "askForBeer": {
    "ref": "exitOption",
    "properties": {
      "text": "Alright, now get me some beer.",
      "action": "sellBeer"
    }
  },
  "shouldGo": {
    "ref": "exitOption",
    "properties": {
      "text": "I should go."
    }
  },
  "tavernDialog1": {
    "class": "TavernDialog1",
    "properties": {
      "states": [
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "ENTRY",
            "text": "As You enter the inn, You see 5 men rushing out. They are dressed in dark brown coats. One of them, the elder one, is holding staff and he is wearing round hat. Your eyes cross as he is leaving.",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "nextStateId": "INNKEEPER_WELCOME",
                  "text": "Talk to the innkeeper."
                }
              },
              {
                "ref": "exitOption",
                "properties": {
                  "text": "Leave inn.",
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INNKEEPER_WELCOME",
            "text": "Welcome, welcome. What can I do for You?",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "number": 0,
                  "nextStateId": "INKEEPER_ABOUT_CULTISTS",
                  "text": "I`ve seen a group of weird men that were leaving the inn in a hurry. They looked like priests, but nothing like Matulog cultists."
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INKEEPER_ABOUT_CULTISTS",
            "text": "Ah yeah, they`ve been around a city since I can remember. Cult of Marumi Baso they call themselves. Some of the locals consider them zealots.",
            "options": [
              {
                "ref": "askAboutMarumi",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "askAboutGirl",
                "properties": {
                  "number": 1
                }
              },
              {
                "ref": "askForBeer",
                "properties": {
                  "number": 2
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 3
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INKEEPER_ABOUT_MARUMI",
            "text": "Ugh... I don`t know, seems like deity? I`m not really interested in religious staff, do You want anything else?",
            "options": [
              {
                "ref": "askAboutGirl",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "askForBeer",
                "properties": {
                  "number": 1
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 2
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INKEEPER_ABOUT_GIRL",
            "text": "Some girl, I`ve told them to get the fuck out and look for their victims elsewhere. Anyway, does inn look like a proper place for a child?",
            "options": [
              {
                "ref": "askAboutMarumi",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "askForBeer",
                "properties": {
                  "number": 1
                }
              },
              {
                "ref": "shouldGo",
                "properties": {
                  "number": 2
                }
              }
            ]
          }
        }
      ]
    }
  },
  "beAMan": {
    "class": "CDialogOption",
    "properties": {
      "text": "Be a man and stop crying.",
      "nextStateId": "VICTOR_SPEECH"
    }
  },
  "whatsWrong": {
    "class": "CDialogOption",
    "properties": {
      "text": "What`s wrong? Why are You crying?",
      "nextStateId": "VICTOR_SPEECH"
    }
  },
  "tavernDialog2": {
    "class": "TavernDialog2",
    "properties": {
      "states": [
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "ENTRY",
            "text": "As You enter the inn, You see a lonely man arguing with innkeeper about alcohol. You approach them.",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "text": "Continue.",
                  "nextStateId": "INKEEPER_RANT",
                  "number": 0
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "INKEEPER_RANT",
            "text": "(inkeeper yelling) I`VE ALREADY TOLD YOU, I`M OUT OF YOUR PRECIOUS VODKA! THERE IS ONLY BEER LEFT.",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "text": "(punch the annoying man)",
                  "nextStateId": "PUNCHED_VICTOR",
                  "number": 0
                }
              },
              {
                "class": "CDialogOption",
                "properties": {
                  "text": "Hey, step away!",
                  "nextStateId": "YELLED_AT_VICTOR",
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "PUNCHED_VICTOR",
            "text": "The man falls on the floor with broken nose and starts crying.",
            "options": [
              {
                "ref": "beAMan",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "whatsWrong",
                "properties": {
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "YELLED_AT_VICTOR",
            "text": "Man sits on the chair and starts crying.",
            "options": [
              {
                "ref": "beAMan",
                "properties": {
                  "number": 0
                }
              },
              {
                "ref": "whatsWrong",
                "properties": {
                  "number": 1
                }
              }
            ]
          }
        },
        {
          "class": "CDialogState",
          "properties": {
            "stateId": "VICTOR_SPEECH",
            "text": "My name is Victor. It's about my daughter... She is lost for 3 days now. My ex-wife told me that she lost her in the crowd in the market 3 days ago. We can't find her anywhere and so does the city guard. I'm afraid I've lost my little girl. (cries)",
            "options": [
              {
                "class": "CDialogOption",
                "properties": {
                  "text": "Don't you have ANY clue where she might be?",
                  "number": 0
                }
              },
              {
                "class": "CDialogOption",
                "properties": {
                  "text": "I've ran into group of priests of Marumi Baso that were looking for a girl around the city, maybe they are responsible for your daughter's disappearance?",
                  "number": 1,
                  "condition": "askedAboutGirl"
                }
              }
            ]
          }
        }
      ]
    }
  }
}